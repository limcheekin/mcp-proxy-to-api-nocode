# To use this file:
# 1. Ensure you have an 'config.yaml' file in this directory for the mcp-access-point service.
# 2. Run 'docker-compose up -d' to start all services.
services:
  mcp-access-point:
    # Build the Docker image from the Dockerfile of the repo.
    build: 
      context: https://github.com/sxhxliang/mcp-access-point.git
    # Name the container.
    container_name: mcp-access-point
    ports:
      # Map port 9999 on the host to port 8080 in the container.
      - "9999:8080"
    environment:
      # Set the internal port for the application.
      - 'port=8080'
    volumes:
      # Mount the local configuration file into the container.
      - ./config.yaml:/app/config/config.yaml
      - ./config/jsonplaceholder:/app/config/jsonplaceholder
    # Restart the service automatically if it fails.
    restart: unless-stopped